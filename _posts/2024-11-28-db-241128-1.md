---
title: "실무에서의 식별관계와 비식별관계"
date: 2024-11-28
categories: [Back-End, DataBase]
tags: [DB, SQL, 데이터모델링]
---

### 실무에서의 식별관계와 비식별관계

---

### 1. **식별관계 (Identifying Relationship)**

### 정의

식별관계란 부모 엔터티의 기본 키가 자식 엔터티의 기본 키의 일부로 포함되는 관계를 의미한다. 이 관계는 부모-자식 간의 강한 의존성을 가지며, 자식 엔터티는 부모 엔터티 없이는 독립적으로 존재할 수 없다.

### 특징

- 부모 엔터티의 기본 키가 자식 엔터티의 기본 키에 포함된다.
- 자식 엔터티는 부모 엔터티가 반드시 존재해야만 의미가 있다.
- 데이터 무결성을 강하게 유지할 수 있다.
- ERD에서는 **실선**으로 표현된다.

### 장점

1. 부모-자식 간의 참조 무결성을 엄격히 유지할 수 있다.
2. 데이터의 일관성을 보장할 수 있다.

### 단점

1. 자식 엔터티의 기본 키가 복잡해지고 길어질 수 있다.
2. 관계가 많아지면 쿼리의 성능이 저하될 수 있다.

### 실무 예시

- **주문**과 **주문상세**:
    - `주문` 엔터티의 `주문ID`가 `주문상세` 엔터티의 기본 키로 포함된다.
    - `주문상세`는 반드시 `주문`과 연결되어야 의미가 있다.

### ERD 예시

```scss
scss
코드 복사
주문 (주문ID PK, 고객ID, 주문일)
주문상세 (주문ID PK, 상품ID PK, 수량)

```

---

### 2. **비식별관계 (Non-identifying Relationship)**

### 정의

비식별관계란 부모 엔터티의 기본 키가 자식 엔터티의 기본 키에 포함되지 않고, 외래 키로만 참조되는 관계를 의미한다. 자식 엔터티는 부모 엔터티와 관계없이 독립적으로 존재할 수 있다.

### 특징

- 부모 엔터티의 기본 키는 자식 엔터티의 기본 키에 포함되지 않는다.
- 자식 엔터티는 부모 엔터티 없이도 독립적으로 존재할 수 있다.
- ERD에서는 **점선**으로 표현된다.

### 장점

1. 자식 엔터티의 기본 키가 단순화된다.
2. 독립적으로 데이터를 처리할 수 있어 유연성이 증가한다.

### 단점

1. 데이터 무결성을 애플리케이션에서 추가로 관리해야 할 수도 있다.
2. 관계가 느슨해 데이터의 일관성이 떨어질 가능성이 있다.

### 실무 예시

- **회원**과 **주문**:
    - `회원` 엔터티의 `회원ID`는 `주문` 엔터티에서 외래 키로 참조된다.
    - 회원이 삭제되더라도 기존 주문 데이터는 유지될 수 있다.

### ERD 예시

```scss
scss
코드 복사
회원 (회원ID PK, 이름, 이메일)
주문 (주문ID PK, 회원ID FK, 주문일)

```

---

### 3. **식별관계와 비식별관계의 차이점**

| 구분 | 식별관계 | 비식별관계 |
| --- | --- | --- |
| **기본 키 포함 여부** | 부모 기본 키가 자식 기본 키에 포함됨 | 부모 기본 키는 자식 기본 키에 포함되지 않음 |
| **존재 의존성** | 자식은 부모 데이터가 없으면 존재할 수 없음 | 자식은 부모 데이터 없이도 독립적으로 존재 가능 |
| **무결성 유지** | 데이터 무결성을 강하게 유지 | 무결성 유지가 느슨하거나 애플리케이션에서 관리 필요 |
| **ERD 표현 방식** | 실선 | 점선 |
| **주요 사용 사례** | 주문 - 주문상세, 학생 - 수강신청 | 회원 - 주문, 고객 - 계약 |

---

### 4. **실무에서의 활용 가이드**

### (1) **식별관계를 사용하는 경우**

- 부모-자식 간 강한 의존성이 요구될 때 사용한다.
- 자식 엔터티의 데이터는 부모 엔터티의 데이터와 항상 연관되어 있어야 한다.
- 부모 엔터티의 삭제 시 자식 엔터티도 함께 삭제해야 하는 경우 적합하다.

### (2) **비식별관계를 사용하는 경우**

- 독립적으로 데이터를 관리해야 하는 경우 사용한다.
- 부모 엔터티가 삭제되더라도 자식 엔터티의 데이터는 유지되어야 하는 경우 적합하다.
- 자식 엔터티의 기본 키를 단순화하려는 경우 사용한다.

---

### 5. **결론**

식별관계와 비식별관계는 데이터베이스 설계 시 각각의 장단점이 있으며, 비즈니스 규칙과 데이터 무결성 요구사항에 따라 적절히 선택해야 한다. 실무에서는 관계를 단순히 이론적으로 구분하는 것보다, 실제 데이터의 독립성과 무결성 요구사항을 충족할 수 있는 설계를 목표로 해야 한다.
